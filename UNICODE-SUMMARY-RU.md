# Refal-05-Unicode

–§–æ—Ä–∫ Refal-05 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Unicode, –¥–æ–±–∞–≤–ª—è—é—â–∏–π –ø–æ–ª–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É Unicode —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º ICU (International Components for Unicode).

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç —Ñ–æ—Ä–∫ —Ä–∞—Å—à–∏—Ä—è–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä Refal-05 –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Unicode, –ø–æ–∑–≤–æ–ª—è—è –ø—Ä–æ–≥—Ä–∞–º–º–∞–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ –ª—é–±–æ–º —è–∑—ã–∫–µ –∏ –ø–∏—Å—å–º–µ–Ω–Ω–æ—Å—Ç–∏. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç UTF-32 –≤–Ω—É—Ç—Ä–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–º–≤–æ–ª–æ–≤ –∏ UTF-8 –¥–ª—è –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞.

## –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ Unicode
- **–ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤ Unicode**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤ Unicode, –≤–∫–ª—é—á–∞—è —ç–º–æ–¥–∑–∏
- **UTF-8 –≤–≤–æ–¥/–≤—ã–≤–æ–¥**: –í–µ—Å—å –≤–≤–æ–¥ –∏ –≤—ã–≤–æ–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–¥–∏—Ä–æ–≤–∫—É UTF-8
- **–í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ UTF-32**: –ö–æ–¥–∏—Ä–æ–≤–∫–∞ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —à–∏—Ä–∏–Ω—ã –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Å –æ–±—Ä–∞–∑—Ü–æ–º
- **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è ASCII**: –°–∏–º–≤–æ–ª—ã < 128 –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —É–∑–ª—ã CHAR –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Å–∏–º–≤–æ–ª–∞–º–∏
- **–°–≤–æ–π—Å—Ç–≤–∞ —Å–∏–º–≤–æ–ª–æ–≤**: –§—É–Ω–∫—Ü–∏—è `Type` —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π Unicode
- **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞**: –§—É–Ω–∫—Ü–∏–∏ `Upper` –∏ `Lower` —Ä–∞–±–æ—Ç–∞—é—Ç —Å–æ –≤—Å–µ–º–∏ –ø–∏—Å—å–º–µ–Ω–Ω–æ—Å—Ç—è–º–∏ Unicode
- **–°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º —Å —É—á—ë—Ç–æ–º Unicode**: –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–Ω–æ–≥–æ–±–∞–π—Ç–æ–≤—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- **–®–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞**: `ChrHex` –∏ `OrdHex` –¥–ª—è —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–π –∑–∞–ø–∏—Å–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0x4E2D)
- **–®–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–µ –ª–∏—Ç–µ—Ä–∞–ª—ã**: –ü—Ä—è–º–∞—è —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–∞—è –∑–∞–ø–∏—Å—å –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ (0xFF, 0x1F389)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ICU
- **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏–º–≤–æ–ª–æ–≤**: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –±—É–∫–≤–µ–Ω–Ω—ã—Ö, —Ü–∏—Ñ—Ä–æ–≤—ã—Ö, –ø—Ä–æ–±–µ–ª—å–Ω—ã—Ö, –ø–µ—á–∞—Ç–∞–µ–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
- **–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞**: –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤–µ—Ä—Ö–Ω–µ–≥–æ/–Ω–∏–∂–Ω–µ–≥–æ/–∑–∞–≥–ª–∞–≤–Ω–æ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞ —Å —É—á—ë—Ç–æ–º –ª–æ–∫–∞–ª–∏
- **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**: —Ñ–æ—Ä–º—ã NFC, NFD, NFKC, NFKD
- **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∏—Å—å–º–µ–Ω–Ω–æ—Å—Ç–∏**: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –ø–∏—Å—å–º–∞ —Å–∏–º–≤–æ–ª–æ–≤
- **–ì—Ä–∞—Ñ–µ–º–Ω—ã–µ –∫–ª–∞—Å—Ç–µ—Ä—ã**: –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–±–∏–Ω–∏—Ä—É—é—â–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤

## –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

1. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —É–∑–ª–æ–≤** (`refal05rts.h`):
   - –î–æ–±–∞–≤–ª–µ–Ω `R05_DATATAG_UNICODE` –¥–ª—è —Å–∏–º–≤–æ–ª–æ–≤ UTF-32
   - –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `unicode_` –≤ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —É–∑–ª–∞
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å ASCII

2. **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ Unicode** (`r05-unicode.h/c`):
   - –§—É–Ω–∫—Ü–∏–∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è UTF-8 ‚Üî UTF-32
   - –ó–∞–ø—Ä–æ—Å—ã —Å–≤–æ–π—Å—Ç–≤ —Å–∏–º–≤–æ–ª–æ–≤ —á–µ—Ä–µ–∑ ICU
   - API –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –ø–∏—Å—å–º–µ–Ω–Ω–æ—Å—Ç–∏

3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ä–µ–¥—ã –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**:
   - –§—É–Ω–∫—Ü–∏–∏ –≤—ã–¥–µ–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ —Å —É—á—ë—Ç–æ–º Unicode
   - –†–∞–∑–±–æ—Ä —Å—Ç—Ä–æ–∫ UTF-8 —Å –±—ã—Å—Ç—Ä—ã–º –ø—É—Ç—ë–º –¥–ª—è ASCII
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–∏–º–≤–æ–ª–æ–≤ Unicode –ø—Ä–∏ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–∏ —Å –æ–±—Ä–∞–∑—Ü–æ–º
   - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤—ã–≤–æ–¥–∞ –≤ UTF-8

4. **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏**:
   - `Chr`/`Ord`: –†–∞—Å—à–∏—Ä–µ–Ω—ã –¥–ª—è –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫ Unicode (0-0x10FFFF)
   - `ChrHex`/`OrdHex`: –®–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ Unicode
   - `Type`: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ Unicode
   - `Upper`/`Lower`: –ü–æ–ª–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ Unicode
   - `Prout`/`Print`: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã–≤–æ–¥–∞ UTF-8

5. **–£–ª—É—á—à–µ–Ω–∏—è –ø–∞—Ä—Å–µ—Ä–∞**:
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤: –ø—Ä–µ—Ñ–∏–∫—Å `0x` –¥–ª—è —á–∏—Å–µ–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, 0x4E2D = 20013)
   - –ö–æ–¥–∏—Ä–æ–≤–∫–∞ –∏—Å—Ö–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ UTF-8
   - –°—Ç—Ä–æ–∫–∏ Unicode –≤ –∏—Å—Ö–æ–¥–Ω–æ–º –∫–æ–¥–µ

### –°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏

–°–∏—Å—Ç–µ–º–∞ —Å–±–æ—Ä–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç ICU –∏ –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É Unicode:
```bash
./makeself.sh lambda  # –°–æ–±–∏—Ä–∞–µ—Ç —Å Unicode, –µ—Å–ª–∏ ICU –¥–æ—Å—Ç—É–ø–µ–Ω
```

–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ ICU (icu4c)
- –ö–æ–º–ø–∏–ª—è—Ç–æ—Ä C —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π C99

### –°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

- –°–∏–º–≤–æ–ª—ã ASCII (< 128) –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ç–∏–ø —É–∑–ª–∞ CHAR –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –î–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ UTF-8 –≤–∫–ª—é—á–∞–µ—Ç –±—ã—Å—Ç—Ä—ã–π –ø—É—Ç—å –¥–ª—è ASCII
- –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ —Ç–æ–ª—å–∫–æ —Å ASCII
- –°–≤–æ–π—Å—Ç–≤–∞ Unicode –∫—ç—à–∏—Ä—É—é—Ç—Å—è ICU –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–¢–µ—Å—Ç–æ–≤—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å Unicode:
- `test-unicode-hello.ref`: "Hello World" –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö
- `test-simple-unicode.ref`: –û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Å–∏–º–≤–æ–ª–∞–º–∏ –∏ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞
- `test-unicode-comprehensive.ref`: –°–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å –æ–±—Ä–∞–∑—Ü–æ–º –∏ –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏
- `test-unicode-advanced.ref`: –¢–∏–ø—ã —Å–∏–º–≤–æ–ª–æ–≤ –∏ —Å–º–µ—à–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
- `test-hex-literals.ref`: –†–∞–∑–±–æ—Ä —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤
- `test-hex-functions.ref`: –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å ChrHex/OrdHex

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:
```
Hello, World!
–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!
‰Ω†Â•ΩÔºå‰∏ñÁïåÔºÅ
„Åì„Çì„Å´„Å°„ÅØ„ÄÅ‰∏ñÁïåÔºÅ
üåçüåéüåè Unicode Test üéâ
```

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞–º–∏ Refal-05
- –ü—Ä–æ–≥—Ä–∞–º–º—ã —Ç–æ–ª—å–∫–æ —Å ASCII —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ò—Å—Ö–æ–¥–Ω—ã–µ —Ñ–∞–π–ª—ã –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–¥–∏—Ä–æ–≤–∫—É UTF-8 –¥–ª—è —Å—Ç—Ä–æ–∫–æ–≤—ã—Ö –ª–∏—Ç–µ—Ä–∞–ª–æ–≤
- –î–≤–æ–∏—á–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –¥–ª—è —Å–±–æ—Ä–æ–∫ –±–µ–∑ Unicode

## –õ–∏—Ü–µ–Ω–∑–∏—è

–¢–∞ –∂–µ, —á—Ç–æ –∏ —É –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ Refal-05 (—Å–º. —Ñ–∞–π–ª LICENSE)

## –ê–≤—Ç–æ—Ä—ã

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è Unicode: –î–∞–Ω—Å–ª–∞–≤ –°–ª–∞–≤–µ–Ω—Å–∫–æ–π.

Refal-05: –ê–ª–µ–∫—Å–∞–Ω–¥—Ä –ö–æ–Ω–æ–≤–∞–ª–æ–≤.