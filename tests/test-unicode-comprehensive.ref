* Comprehensive Unicode test

$ENTRY Go {
  = <TestNormalization>
    <TestScripts>
    <TestBoundaries>
    <TestSorting>;
}

* Test Unicode normalization
TestNormalization {
  = <Prout 'Testing normalization:'>
    <Prout '  CafÃ© (Ã© as single char) vs CafÃ© (e + combining accent)'>
    <CompareNorm ('CafÃ©') ('CafÃ©')>;
}

CompareNorm {
  (e.X) (e.X) = <Prout '  Normalized match: YES'>;
  (e.X) (e.Y) = <Prout '  Normalized match: NO (different byte sequences)'>;
}

* Test different scripts
TestScripts {
  = <Prout 'Testing different scripts:'>
    <TestScript 'Latin' 'Hello'>
    <TestScript 'Cyrillic' 'ÐŸÑ€Ð¸Ð²ÐµÑ‚'>
    <TestScript 'Greek' 'Î“ÎµÎ¹Î¬'>
    <TestScript 'Arabic' 'Ù…Ø±Ø­Ø¨Ø§'>
    <TestScript 'Hebrew' '×©×œ×•×'>
    <TestScript 'Devanagari' 'à¤¨à¤®à¤¸à¥à¤¤à¥‡'>
    <TestScript 'Bengali' 'à¦¹à§à¦¯à¦¾à¦²à§‹'>
    <TestScript 'Thai' 'à¸ªà¸§à¸±à¸ªà¸”à¸µ'>
    <TestScript 'Korean' 'ì•ˆë…•'>
    <TestScript 'Japanese Hiragana' 'ã“ã‚“ã«ã¡ã¯'>
    <TestScript 'Japanese Katakana' 'ã‚³ãƒ³ãƒ‹ãƒãƒ'>;
}

TestScript {
  e.Name e.Text = <Prout '  ' e.Name ': ' e.Text ' (length ' <Lenw e.Text> ')'>;
}

* Test boundary cases
TestBoundaries {
  = <Prout 'Testing boundary cases:'>
    <TestBoundary 'ASCII max' <Chr 127>>
    <TestBoundary 'First Unicode' <Chr 128>>
    <TestBoundary 'BMP boundary' <Chr 65535>>
    <TestBoundary 'First SMP' <Chr 65536>>
    <TestBoundary 'High emoji' <Chr 128512>>
    <TestBoundary 'Math symbol' <Chr 8721>>;
}

TestBoundary {
  e.Name s.Char = <Prout '  ' e.Name ': ' s.Char ' (code ' <Ord s.Char> ')'>;
}

* Test sorting/comparison
TestSorting {
  = <Prout 'Testing character codes:'>
    <CompareChars 'A' 'B'>
    <CompareChars 'Z' 'a'>
    <CompareChars 'Ð' 'Ð‘'>
    <CompareChars 'Ð¯' 'Ð°'>
    <CompareChars 'ä¸­' 'å›½'>
    <CompareChars 'ðŸŒ' 'ðŸŒŽ'>;
}

CompareChars {
  s.A s.B = <Prout '  ' s.A ' (' <Ord s.A> ') vs ' s.B ' (' <Ord s.B> ')'>;
}